!function(t,i,s,o){"use strict";var e=0,h='<span class="bs"><span class="line" tabindex="-1"><span class="line-left"></span></span><span class="marker-min">0</span><span class="marker-max">1</span><span class="marker-from">0</span><span class="marker-to">0</span><span class="marker-single">0</span></span><span class="grid"></span><span class="bar"></span>',n='<span class="slider single"></span>',r='<span class="slider from"></span><span class="slider to"></span>',a='<span class="slider pin"></span>';i.BaseSlider=function(o,e,h){this.VERSION="2.3.4",this.input=o,this.plugin_count=h,this.current_plugin=0,this.old_from=0,this.old_to=0,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_active=!1,this.is_resize=!1,this.is_click=!1,this.is_repeating_click=!1,this.$cache={win:t(i),body:t(s.body),input:t(o),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_pin:null,s_from:null,s_to:null,grid:null,grid_labels:[],buttons:{from:{},to:{}}},this.options=t.extend({type:"single",slider:"default",isInterval:"double"==e.type,pin_value:null,min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,p_values:[],from_fixed:!1,from_min:null,from_max:null,to_fixed:!1,to_min:null,to_max:null,prettify:null,prettify_text:null,marker_frame:!1,impact_line:!1,impact_line_reverse:!1,hide_bar_color:!1,bar_color:null,callback_on_dragging:!0,callback_delay:500,grid:!1,hide_minor_ticks:!1,major_ticks:null,major_ticks_offset:0,major_ticks_factor:1,ticks_on_line:!1,hide_min_max:!0,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" - ",disable:!1,buttons_attr:["firstBtn","previousBtn","nowBtn","nextBtn","lastBtn"],buttons_delta:[-99,-1,0,1,99],buttons:{from:{},to:{}},gridDistances:[1,2,5,10,20,50,100],onStart:null,onChange:null,onFinish:null,onUpdate:null},e),this.validate(),this.options.has_pin=null!==this.options.pin_value,this.options.p_keyboard_step=100*this.options.step/(this.options.max-this.options.min),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single:0,p_single_real:0,p_from:0,p_from_real:0,p_to:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from:0,p_from_left:0,p_to:0,p_to_left:0,p_single:0,p_single_left:0},this.init()},i.BaseSlider.prototype={init:function(t){this.coords.p_step=this.options.step/((this.options.max-this.options.min)/100),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.onUpdate()):(this.force_redraw=!0,this.calc(!0),this.onStart()),this.drawHandles()},append:function(){function i(i){return"string"===t.type(i)?t("#"+i):i}this.$cache.container=t('<span class="base-slider '+this.options.slider+" js-base-slider-"+this.plugin_count+'"></span>'),this.$cache.input.before(this.$cache.container),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html(h),this.$cache.bs=this.$cache.cont.find(".bs"),this.$cache.min=this.$cache.cont.find(".marker-min"),this.$cache.max=this.$cache.cont.find(".marker-max"),this.$cache.from=this.$cache.cont.find(".marker-from"),this.$cache.to=this.$cache.cont.find(".marker-to"),this.$cache.single=this.$cache.cont.find(".marker-single"),this.$cache.bar=this.$cache.cont.find(".bar"),this.$cache.line=this.$cache.cont.find(".line"),this.$cache.lineLeft=this.$cache.cont.find(".line-left"),this.$cache.grid=this.$cache.cont.find(".grid"),"single"===this.options.type?(this.$cache.cont.append(n),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from.css("visibility","hidden"),this.$cache.to.css("visibility","hidden"),this.$cache.lineLeft.remove()):(this.$cache.cont.append(r),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.options.has_pin&&(this.$cache.cont.append(a),this.$cache.s_pin=this.$cache.cont.find(".slider.pin")),this.options.impact_line&&this.$cache.cont.addClass("impact-line"),this.options.impact_line_reverse&&this.$cache.cont.addClass("impact-line-reverse")),this.options.hide_from_to&&(this.$cache.from.hide(),this.$cache.to.hide(),this.$cache.single.hide()),this.options.hide_bar_color&&this.$cache.bar.addClass("hide-bar-color"),this.options.bar_color&&this.$cache.bar.css("background-color",this.options.bar_color),this.options.marker_frame&&this.$cache.container.addClass("marker-frame"),this.options.hide_min_max&&this.options.hide_from_to&&this.$cache.container.addClass("no-marker"),this.options.ticks_on_line&&this.$cache.container.addClass("ticks-on-line"),this.options.has_pin&&this.$cache.container.addClass("has-pin"),this.options.buttons.from=this.options.buttons.from||{},this.options.buttons.to=this.options.buttons.to||{};for(var s=0;s<this.options.buttons_attr.length;s++){var o=this.options.buttons_attr[s];this.$cache.buttons.from[o]=i(this.options.buttons.from[o]),this.$cache.buttons.to[o]=i(this.options.buttons.to[o])}this.currentGridContainer=null,this.options.grid?this.appendGrid():this.$cache.grid.remove(),this.options.disable?(this.$cache.cont.addClass("disabled"),this.$cache.input.prop("disabled",!0)):this.options.read_only?(this.$cache.cont.addClass("read-only"),this.$cache.input.prop("disabled",!0)):(this.$cache.cont.addClass("active"),this.$cache.input.prop("disabled",!1),this.bindEvents())},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count);var t,s,o,e;for(t in this.$cache.buttons)for(s=0;s<this.options.buttons_attr.length;s++)o=this.options.buttons_attr[s],e=this.$cache.buttons[t][o],e&&e.off("mousedown.irs_"+this.plugin_count+" mouseup.irs_"+this.plugin_count+" mouseleave.irs_"+this.plugin_count+" click.irs_"+this.plugin_count);this.$cache.grid_labels=[],i.cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),"single"===this.options.type?(this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"))):(this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"))),this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"));var t,i,s,o,e;for(t in this.$cache.buttons)for(i=0;i<this.options.buttons_attr.length;i++)s=this.options.buttons_attr[i],o=this.options.buttons_delta[i],e=this.$cache.buttons[t][s],e&&(e.on("mousedown.irs_"+this.plugin_count,this.startRepeatingClick.bind(this)).on("mouseup.irs_"+this.plugin_count,this.endRepeatingClick.bind(this)).on("mouseleave.irs_"+this.plugin_count,this.endRepeatingClick.bind(this,!0)).on("click.irs_"+this.plugin_count,this.buttonClick.bind(this,{id:t,delta:o})),e.autoclickWhilePressed&&1==Math.abs(o)&&!e.data("auto-click-when-pressed-added")&&e.data("auto-click-when-pressed-added",!0),e.autoclickWhilePressed())},adjustResult:function(){},onFunc:function(t){this.adjustResult(),t&&"function"==typeof t&&t.call(this,this.result)},onCallback:function(){this.lastResult=this.lastResult||{},!this.options.callback||"function"!=typeof this.options.callback||this.result.min==this.lastResult.min&&this.result.max==this.lastResult.max&&this.result.from==this.lastResult.from&&this.result.to==this.lastResult.to||(this.adjustResult(),this.preCallback&&this.preCallback(this.result),this.options.context?this.options.callback.call(this.options.context,this.result):this.options.callback(this.result),this.lastResult=t.extend({},this.result))},onStart:function(){this.onCallback(),this.onFunc(this.options.onStart)},onChange:function(){if(this.dragging&&!this.options.callback_on_dragging&&this.options.callback_delay){this.delayTimeout&&i.clearTimeout(this.delayTimeout);var t=this;this.delayTimeout=i.setTimeout(function(){t.onCallback()},this.options.callback_delay)}(this.options.callback_on_dragging||!this.is_repeating_click&&!this.dragging)&&this.onCallback(),this.onFunc(this.options.onChange)},onFinish:function(){this.delayTimeout&&i.clearTimeout(this.delayTimeout),this.is_repeating_click||this.onCallback(),this.onFunc(this.options.onFinish)},onUpdate:function(){this.onFunc(this.options.onUpdate)},buttonClick:function(t){var i="from"==t.id?this.result.from:this.result.to;switch(t.delta){case 0:i=0;break;case-99:i=this.options.min;break;case 99:i=this.options.max;break;case 1:i+=1;break;case-1:i-=1}"from"==t.id?this.setFromValue(i):this.setToValue(i)},startRepeatingClick:function(){this.is_repeating_click=!0},endRepeatingClick:function(t){this.is_repeating_click=!1,t&&this.onCallback()},textClick:function(i){var s=t(i.target).data("base-slider-value");return this.options.isInterval?void(this.result.from>=s?this.setFromValue(s):this.result.to<=s?this.setToValue(s):Math.abs(this.result.from-s)>=Math.abs(this.result.to-s)?this.setToValue(s):this.setFromValue(s)):void this.setValue(s)},pointerMove:function(t){if(this.dragging){var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=i-this.coords.x_gap,this.calc(),this.drawHandles()}},pointerUp:function(i){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,(t.contains(this.$cache.cont[0],i.target)||this.dragging)&&this.onFinish(),this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;if(2!==i.button){switch(this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.bs.offset().left,this.coords.x_pointer=s-this.coords.x_gap,this.calcPointer(),t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from),this.coords.p_gap_right=this.toFixed(this.coords.p_to-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}this.$cache.line.trigger("focus")}},pointerClick:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.bs.offset().left,this.coords.x_pointer=+(s-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(!0),this.drawHandles(),this.$cache.line.trigger("focus"))},key:function(t,i){if(!(this.current_plugin!==this.plugin_count||i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)){switch(i.which){case 83:case 65:case 40:case 37:i.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:i.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var i=this.coords.p_pointer;t?i+=this.options.p_keyboard_step:i-=this.options.p_keyboard_step,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*i),this.is_key=!0,this.calc(),this.force_redraw=!0,this.drawHandles()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min.hide(),void this.$cache.max.hide();this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max)),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setValue:function(t){this.setFromValue(t)},setFromValue:function(t){t=Math.min(this.options.max,t),t=Math.max(this.options.min,t),this.options.isInterval&&(t=Math.min(t,this.result.to)),this.old_from=this.result.from,this.result.from=t,this.old_from!=t&&(this.target="base",this.is_key=!0,this.calc(),this.force_redraw=!0,this.drawHandles()),this.onCallback()},setToValue:function(t){t=Math.min(this.options.max,t),t=Math.max(t,this.result.from),this.old_to=this.result.to,this.result.to=t,this.old_to!=t&&(this.target="base",this.is_key=!0,this.calc(),this.force_redraw=!0,this.drawHandles()),this.onCallback()},setPin:function(t,i){this.options.has_pin&&(t=Math.min(this.options.max,t),t=Math.max(this.options.min,t),this.options.pin_value=t,this.target="base",this.calc(!0),this.$cache.s_pin.css({left:this.coords.p_pin_value+"%",color:i||"black"}))},getCoords_w_rs:function(){var t=this.$cache.container.innerWidth();this.coords.w_rs=t?t:this.coords.w_rs},calc:function(t){if(this.options&&(t&&(this.getCoords_w_rs(),this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1)),this.coords.w_rs)){this.calcPointer(),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);var i=100-this.coords.p_handle,s=this.toFixed(this.coords.p_pointer-this.coords.p_gap);switch("click"===this.target&&(s=this.toFixed(this.coords.p_pointer-this.coords.p_handle/2),this.target=this.chooseHandle(s)),0>s?s=0:s>i&&(s=i),this.target){case"base":var o=(this.options.max-this.options.min)/100,e=(this.result.from-this.options.min)/o,h=(this.result.to-this.options.min)/o;if(this.coords.p_single_real=this.toFixed(e),this.coords.p_from_real=this.toFixed(e),this.coords.p_to_real=this.toFixed(h),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single=this.toFixed(e-this.coords.p_handle/100*e),this.coords.p_from=this.toFixed(e-this.coords.p_handle/100*e),this.coords.p_to=this.toFixed(h-this.coords.p_handle/100*h),this.options.has_pin){var n=(this.options.pin_value-this.options.min)/o,r=this.checkDiapason(this.toFixed(n),this.options.from_min,this.options.from_max);this.coords.p_pin_value=this.toFixed(r/100*i)}this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.calcWithStep(s/i*100),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single=this.toFixed(this.coords.p_single_real/100*i);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.calcWithStep(s/i*100),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from=this.toFixed(this.coords.p_from_real/100*i);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.calcWithStep(s/i*100),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to=this.toFixed(this.coords.p_to_real/100*i);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;s=this.toFixed(s+.1*this.coords.p_handle),this.coords.p_from_real=this.calcWithStep((s-this.coords.p_gap_left)/i*100),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from=this.toFixed(this.coords.p_from_real/100*i),this.coords.p_to_real=this.calcWithStep((s+this.coords.p_gap_right)/i*100),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to=this.toFixed(this.coords.p_to_real/100*i)}"single"===this.options.type?(this.coords.p_bar_x=0,this.coords.p_bar_w=this.coords.p_single+this.coords.p_handle/2,this.result.from_percent=this.coords.p_single_real,this.result.from=this.calcReal(this.coords.p_single_real)):(this.coords.p_bar_x=this.toFixed(this.coords.p_from+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to-this.coords.p_from),this.result.from_percent=this.coords.p_from_real,this.result.from=this.calcReal(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.calcReal(this.coords.p_to_real)),this.calcMinMax(),this.calcLabels()}},calcPointer:function(){return this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),void(this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100))):void(this.coords.p_pointer=0)},chooseHandle:function(t){if("single"===this.options.type)return"single";var i=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;return t>=i?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single+this.coords.p_handle/2-this.labels.p_single/2,this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single)):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from+this.coords.p_handle/2-this.labels.p_from/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to+this.coords.p_handle/2-this.labels.p_to/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to)/2-this.labels.p_single/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single)))},drawHandles:function(){this.getCoords_w_rs(),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&this.calcGridMargin(),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar.css("left",this.coords.p_bar_x+"%"),this.$cache.bar.css("width",this.coords.p_bar_w+"%"),"single"===this.options.type?(this.$cache.s_single.css("left",this.coords.p_single+"%"),this.$cache.single.css("left",this.labels.p_single_left+"%"),this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.$cache.s_from.css("left",this.coords.p_from+"%"),this.$cache.s_to.css("left",this.coords.p_to+"%"),this.options.has_pin&&this.$cache.s_pin.css("left",this.coords.p_pin_value+"%"),this.$cache.lineLeft&&this.$cache.lineLeft.css({left:0,width:this.coords.p_bar_x+"%"}),(this.old_from!==this.result.from||this.force_redraw)&&this.$cache.from.css("left",this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&this.$cache.to.css("left",this.labels.p_to_left+"%"),this.$cache.single.css("left",this.labels.p_single_left+"%"),this.$cache.input.prop("value",this.result.from+";"+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to)),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||this.$cache.input.trigger("change"),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.onChange(),(this.is_key||this.is_click)&&this.onFinish(),this.is_update=!1,this.is_resize=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,i,s;if(!this.options.hide_from_to)if("single"===this.options.type)t=this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min.css("visibility","hidden"):this.$cache.min.css("visibility","visible"),this.labels.p_single_left+this.labels.p_single>100-this.labels.p_max-1?this.$cache.max.css("visibility","hidden"):this.$cache.max.css("visibility","visible");else{this.options.decorate_both?(t=this.decorate(this._prettify(this.result.from)),t+=this.options.values_separator,t+=this.decorate(this._prettify(this.result.to))):t=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.from),i=this.decorate(this._prettify(this.result.from),this.result.from),s=this.decorate(this._prettify(this.result.to),this.result.to),this.$cache.single.html(t),this.$cache.from.html(i),this.$cache.to.html(s),this.calcLabels();var o=Math.min(this.labels.p_single_left,this.labels.p_from_left),e=this.labels.p_single_left+this.labels.p_single,h=this.labels.p_to_left+this.labels.p_to,n=Math.max(e,h);this.labels.p_from_left+this.labels.p_from>=this.labels.p_to_left?(this.$cache.from.css("visibility","hidden"),this.$cache.to.css("visibility","hidden"),this.$cache.single.css("visibility","visible"),this.result.from===this.result.to?(this.$cache.from.css("visibility","visible"),this.$cache.single.css("visibility","hidden"),n=h):(this.$cache.from.css("visibility","hidden"),this.$cache.single.css("visibility","visible"),n=Math.max(e,h))):(this.$cache.from.css("visibility","visible"),this.$cache.to.css("visibility","visible"),this.$cache.single.css("visibility","hidden")),o<this.labels.p_min+1?this.$cache.min.css("visibility","hidden"):this.$cache.min.css("visibility","visible"),n>100-this.labels.p_max-1?this.$cache.max.css("visibility","hidden"):this.$cache.max.css("visibility","visible")}}},toggleInput:function(){this.$cache.input.toggleClass("hidden-input")},calcPercent:function(t){var i=(this.options.max-this.options.min)/100,s=(t-this.options.min)/i;return this.toFixed(s)},calcReal:function(t){var i=this.options.min,s=this.options.max,o=0;0>i&&(o=Math.abs(i),i+=o,s+=o);var e=(s-i)/100*t+i,h=this.options.step.toString().split(".")[1];return h?e=+e.toFixed(h.length):(e/=this.options.step,e*=this.options.step,e=+e.toFixed(0)),o&&(e-=o),e<this.options.min?e=this.options.min:e>this.options.max&&(e=this.options.max),h?+e.toFixed(h.length):this.toFixed(e)},calcWithStep:function(t){var i=Math.round(t/this.coords.p_step)*this.coords.p_step;return i>100&&(i=100),100===t&&(i=100),this.toFixed(i)},checkMinInterval:function(t,i,s){var o,e,h=this.options;return h.min_interval?(o=this.calcReal(t),e=this.calcReal(i),"from"===s?e-o<h.min_interval&&(o=e-h.min_interval):o-e<h.min_interval&&(o=e+h.min_interval),this.calcPercent(o)):t},checkMaxInterval:function(t,i,s){var o,e,h=this.options;return h.max_interval?(o=this.calcReal(t),e=this.calcReal(i),"from"===s?e-o>h.max_interval&&(o=e-h.max_interval):o-e>h.max_interval&&(o=e+h.max_interval),this.calcPercent(o)):t},checkDiapason:function(t,i,s){var o=this.calcReal(t),e=this.options;return i&&"number"==typeof i||(i=e.min),s&&"number"==typeof s||(s=e.max),i>o&&(o=i),o>s&&(o=s),this.calcPercent(o)},toFixed:function(t){return t=t.toFixed(5),+t},_prettify:function(t){return this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):t},_prettify_text:function(t){return this.options.prettify_text&&"function"==typeof this.options.prettify_text?this.options.prettify_text(t):t},checkEdges:function(t,i){return 0>t?t=0:t>100-i&&(t=100-i),this.toFixed(t)},validate:function(){var t=this.options,i=this.result;"string"==typeof t.min&&(t.min=+t.min),"string"==typeof t.max&&(t.max=+t.max),"string"==typeof t.from&&(t.from=+t.from),"string"==typeof t.to&&(t.to=+t.to),"string"==typeof t.step&&(t.step=+t.step),"string"==typeof t.from_min&&(t.from_min=+t.from_min),"string"==typeof t.from_max&&(t.from_max=+t.from_max),"string"==typeof t.to_min&&(t.to_min=+t.to_min),"string"==typeof t.to_max&&(t.to_max=+t.to_max),t.max<=t.min&&(t.max=t.min?2*t.min:t.min+1,t.step=1),("number"!=typeof t.from||isNaN(t.from))&&(t.from=t.min),("number"!=typeof t.to||isNaN(t.from))&&(t.to=t.max),(t.from<t.min||t.from>t.max)&&(t.from=t.min),(t.to>t.max||t.to<t.min)&&(t.to=t.max),"double"===t.type&&t.from>t.to&&(t.from=t.to),("number"!=typeof t.step||isNaN(t.step)||!t.step||t.step<0)&&(t.step=1),t.from_min&&t.from<t.from_min&&(t.from=t.from_min),t.from_max&&t.from>t.from_max&&(t.from=t.from_max),t.to_min&&t.to<t.to_min&&(t.to=t.to_min),t.to_max&&t.from>t.to_max&&(t.to=t.to_max),i&&(i.min!==t.min&&(i.min=t.min),i.max!==t.max&&(i.max=t.max),(i.from<i.min||i.from>i.max)&&(i.from=t.from),(i.to<i.min||i.to>i.max)&&(i.to=t.to)),("number"!=typeof t.min_interval||isNaN(t.min_interval)||!t.min_interval||t.min_interval<0)&&(t.min_interval=0),("number"!=typeof t.max_interval||isNaN(t.max_interval)||!t.max_interval||t.max_interval<0)&&(t.max_interval=0),t.min_interval&&t.min_interval>t.max-t.min&&(t.min_interval=t.max-t.min),t.max_interval&&t.max_interval>t.max-t.min&&(t.max_interval=t.max-t.min)},decorate:function(t,i){var s="",o=this.options;return o.prefix&&(s+=o.prefix),s+=t,o.max_postfix&&i===o.max&&(s+=o.max_postfix,o.postfix&&(s+=" ")),o.postfix&&(s+=o.postfix),s},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.calcPercent(this.result.from)},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.calcPercent(this.result.to)},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGridContainer:function(){return this.getCoords_w_rs(),this.currentGridContainer?(this.totalGridContainerTop+=this.currentGridContainer.height(),this.currentGridContainer=t('<span class="grid"></span>').insertAfter(this.currentGridContainer),this.currentGridContainer.css("top",this.totalGridContainerTop+"px")):(this.currentGridContainer=this.$cache.grid,this.totalGridContainerTop=this.currentGridContainer.position().top),this.$cache.grid=this.$cache.cont.find(".grid"),this.currentGridContainer},appendTick:function(i,s){if(this.currentGridContainer){s=t.extend({minor:!1,color:""},s);var o=t('<span class="grid-pol" style="left:'+i+'%"></span>');return s.minor&&o.addClass("minor"),s.color&&o.css("background-color",s.color),o.appendTo(this.currentGridContainer),o}},appendText:function(i,s,e){if(this.currentGridContainer){e=t.extend({color:""},e);var h=this._prettify_text(s);this.options.decorate_text&&(h=(this.options.prefix?this.options.prefix:"")+h+(this.options.postfix?this.options.postfix:""));var n=t('<span class="grid-text" style="background-color:transparent; left: '+i+'%">'+h+"</span>");return n.appendTo(this.currentGridContainer),n.css("margin-left",-n.outerWidth(!1)/2+"px"),!e.clickable||this.options.disable||this.options.read_only||(s=e.click_value!==o?e.click_value:s,n.data("base-slider-value",s).on("click.irs_"+this.plugin_count,this.textClick.bind(this)).addClass("clickable")),e.minor&&n.addClass("minor"),e.italic&&n.addClass("italic"),e.color&&n.css("color",e.color),n}},getTextWidth:function(t,i){var s=this.appendText(0,t,i),o=parseFloat(s.outerWidth(!1));return s.remove(),o},appendGrid:function(){this.options.grid&&this.appendStandardGrid()},appendStandardGrid:function(t){this._appendStandardGrid(t)},_appendStandardGrid:function(i,s){this.appendGridContainer(),this.calcGridMargin();var o,e=this.options,h=e.max-e.min,n=this.$cache.grid.outerWidth(!1),r=0,a=e.min,c=0,l=0;for(e.gridDistanceStep=e.gridDistances[r],e.stepPx=e.step*n/h/e.major_ticks_factor,e.stepP=this.toFixed(e.step/(h/100)),i=t.extend(i||{},{clickable:!0}),s=s||{};e.stepPx*e.gridDistanceStep<=4;)r++,e.gridDistanceStep=r<e.gridDistances.length?e.gridDistances[r]:2*e.gridDistanceStep;e.tickDistanceNum=e.gridDistanceStep*e.step,e.tickDistancePx=e.gridDistanceStep*e.stepPx;var p=e.major_ticks;if(!p){for(a=e.min;a<=e.max;)a*e.major_ticks_factor%e.tickDistanceNum===0&&(c=Math.max(c,this.getTextWidth(a))),a+=e.step;for(c+=6,r=0,p=e.gridDistances[r];p*e.tickDistancePx<c;)r++,p=r<e.gridDistances.length?e.gridDistances[r]:2*p}for(e.majorTickDistanceNum=e.tickDistanceNum*p,a=e.min;a<=e.max;)o=(a-e.major_ticks_offset)*e.major_ticks_factor,o%e.tickDistanceNum===0&&(o%e.majorTickDistanceNum===0?(this.appendTick(l,s),this.appendText(l,a,i)):e.hide_minor_ticks||this.appendTick(l,{minor:!0})),a+=e.step,l+=e.stepP},calcGridMargin:function(){this.getCoords_w_rs(),this.coords.w_rs&&(this.coords.w_handle="single"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid.css({width:this.toFixed(100-this.coords.p_handle)+"%",left:this.coords.grid_gap+"%"}))},update:function(i){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,
this.options=t.extend(this.options,i),this.validate(),this.updateResult(),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"baseSlider",null),this.remove(),this.input=null,this.options=null)}},t.fn.baseSlider=function(s){return this.each(function(){t.data(this,"baseSlider")||t.data(this,"baseSlider",new i.BaseSlider(this,s,e++))})}}(jQuery,this,document);